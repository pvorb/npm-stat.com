{"version":3,"sources":["webpack:///charts.js","webpack:///webpack/bootstrap ea9d7d5ffe9a161abd83","webpack:///./src/charts.js","webpack:///(webpack)/~/node-libs-browser/~/querystring-es3/decode.js","webpack:///(webpack)/~/node-libs-browser/~/querystring-es3/encode.js","webpack:///(webpack)/~/node-libs-browser/~/querystring-es3/index.js","webpack:///./src/object-keys-polyfill.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","getDateRange","startDate","stopDate","dateArray","current","moment","startOf","stop","isSameOrBefore","push","toDate","add","showChart","title","data","xAxisType","xAxisTitle","cats","series","$","map","values","packageName","name","type","Highcharts","Chart","chart","renderTo","zoomType","colors","text","style","color","subtitle","document","ontouchstart","exporting","enableImages","credits","enabled","xAxis","maxZoom","lineColor","categories","labels","rotation","yAxis","min","startOnTick","showFirstLabel","tooltip","shared","legend","length","plotOptions","spline","marker","radius","lineWidth","states","hover","threshold","calculateTotalDownloads","downloadsPerDay","totalDownloads","each","date","downloadsOfDay","formatNumber","number","toString","replace","sanitizeData","result","downloadData","downloads","i","day","getDailyDownloadData","dateRange","dailyData","key","dateToDayKey","dateAsMidnight","valueOf","format","dateToWeekKey","dateToMonthKey","dateToYearKey","getDataGroupedPerPeriod","dateToPeriod","nthVisibleAxisLabel","groupedData","xAxisLabels","coveredPeriods","periodSum","lastPeriod","currentPeriod","y","Object","keys","getPackageList","json","len","rows","requestData","url","ajax","dataType","getDownloadsUrl","pkg","fromDate","encodeURIComponent","sumUpDownloadCounts","summedUpDownloads","packageDownloads","packageDownloadsForDate","total","drawCharts","dailyDownloadData","weeklyDownloadData","monthlyDownloadData","annualDownloadData","showTotalDownloads","sanitizedData","showSum","sum","$table","totals","sortedTotals","sort","a","b","index","packageHtml","append","after","showPackageStats","packageNames","joinedPackageNames","join","$nameType","val","attr","window","alert","$npmStat","dataRequests","requestArray","dataRequest","when","apply","this","then","requestResults","arguments","response","remove","showAuthorStats","authorName","html","getPackagesForAuthor","summedUpDownloadCounts","initDate","urlParams","baseDate","subtract","isValid","querystring","change","replaceWith","decode","location","search","substring","Array","trim","submitForm","formData","split","encode","hasOwnProperty","obj","prop","prototype","qs","sep","eq","options","regexp","maxKeys","kstr","vstr","k","v","x","idx","indexOf","substr","decodeURIComponent","isArray","xs","f","res","stringifyPrimitive","isFinite","undefined","objectKeys","ks","parse","stringify","hasDontEnumBug","propertyIsEnumerable","dontEnums","dontEnumsLength","TypeError"],"mappings":"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","file":"charts.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*!\n\t * (c) 2012-2016 Paul Vorbach.\n\t *\n\t * MIT License (https://vorba.ch/license/mit.html)\n\t */\n\t\n\tvar querystring = __webpack_require__(3);\n\t\n\t__webpack_require__(4);\n\t\n\tvar $nameType = $('<select id=\"nameType\">\\n'\n\t    + '    <option value=\"package\" selected>Package</option>\\n'\n\t    + '    <option value=\"author\">Author</option>\\n'\n\t    + '</select>');\n\t\n\t$nameType.change(function () {\n\t    if ($nameType.val() == 'package') {\n\t        $('#name').attr('name', 'package').attr('placeholder', 'package name(s) (comma separated)');\n\t    } else if ($nameType.val() == 'author') {\n\t        $('#name').attr('name', 'author').attr('placeholder', 'author name');\n\t    }\n\t});\n\t\n\tfunction getDateRange(startDate, stopDate) {\n\t    var dateArray = [];\n\t    var current = moment(startDate).startOf('day');\n\t    var stop = moment(stopDate).startOf('day');\n\t    while (current.isSameOrBefore(stop)) {\n\t        dateArray.push(current.toDate());\n\t        current = current.add(1, 'days');\n\t    }\n\t    return dateArray;\n\t}\n\t\n\tfunction showChart(id, title, data, xAxisType, xAxisTitle, cats) {\n\t\n\t    var series = $.map(data, function (values, packageName) {\n\t        return {\n\t            name: packageName,\n\t            data: values,\n\t            type: 'spline'\n\t        };\n\t    });\n\t\n\t    new Highcharts.Chart({\n\t        chart: {\n\t            renderTo: id,\n\t            zoomType: 'x'\n\t        },\n\t        colors: ['#CC333F', '#00A0B0', '#73AC42', '#EB6841', '#542437'],\n\t        title: {\n\t            text: title,\n\t            style: {\n\t                color: '#000000'\n\t            }\n\t        },\n\t        subtitle: {\n\t            text: typeof document.ontouchstart == 'undefined' ?\n\t                'Click and drag in the plot to zoom in' :\n\t                'Drag your finger over the plot to zoom in',\n\t            style: {\n\t                color: '#000000'\n\t            }\n\t        },\n\t        exporting: {\n\t            enableImages: true\n\t        },\n\t        credits: {\n\t            enabled: false\n\t        },\n\t        xAxis: (xAxisType == 'datetime' ? {\n\t            type: xAxisType,\n\t            maxZoom: 14 * 24 * 60 * 60 * 1000,\n\t            lineColor: '#000000',\n\t            title: {\n\t                text: xAxisTitle,\n\t                style: {\n\t                    color: '#000000'\n\t                }\n\t            }\n\t        } : {\n\t            type: xAxisType,\n\t            lineColor: '#000000',\n\t            categories: cats,\n\t            labels: {\n\t                rotation: -20\n\t            },\n\t            title: {\n\t                text: xAxisTitle,\n\t                style: {\n\t                    color: '#000000'\n\t                }\n\t            }\n\t        }),\n\t        yAxis: {\n\t            min: 0,\n\t            startOnTick: false,\n\t            showFirstLabel: false,\n\t            title: {\n\t                text: 'Downloads',\n\t                style: {\n\t                    color: '#000000'\n\t                }\n\t            }\n\t        },\n\t        tooltip: {\n\t            shared: true\n\t        },\n\t        legend: {\n\t            enabled: series.length > 1\n\t        },\n\t        plotOptions: {\n\t            spline: {\n\t                marker: {\n\t                    radius: 1.5\n\t                },\n\t                lineWidth: 1,\n\t                states: {\n\t                    hover: {\n\t                        lineWidth: 1\n\t                    }\n\t                },\n\t                threshold: null\n\t            }\n\t        },\n\t        series: series\n\t    });\n\t}\n\t\n\tfunction calculateTotalDownloads(downloadsPerDay) {\n\t    var totalDownloads = 0;\n\t    $.each(downloadsPerDay, function (date, downloadsOfDay) {\n\t        totalDownloads += downloadsOfDay;\n\t    });\n\t    return totalDownloads;\n\t}\n\t\n\tfunction formatNumber(number) {\n\t    return number.toString()\n\t        .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\t}\n\t\n\tfunction sanitizeData(data) {\n\t    var result = {};\n\t    var downloadData = data.downloads;\n\t\n\t    var date = null;\n\t    if (downloadData) {\n\t        for (var i = 0; i < downloadData.length; i++) {\n\t            date = downloadData[i].day;\n\t            result[date] = downloadData[i].downloads;\n\t        }\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\tfunction getDailyDownloadData(downloadData, dateRange) {\n\t\n\t    var dailyData = {};\n\t\n\t    $.each(downloadData, function (packageName, data) {\n\t        var values = [];\n\t        for (var i = 0; i < dateRange.length; i++) {\n\t            var key = dateToDayKey(dateRange[i]);\n\t            var dateAsMidnight = moment(dateRange[i]).startOf('day').valueOf();\n\t            values.push([dateAsMidnight, data[key] || 0]);\n\t        }\n\t        dailyData[packageName] = values;\n\t    });\n\t\n\t    return dailyData;\n\t}\n\t\n\tfunction dateToDayKey(date) {\n\t    return moment(date).format('YYYY-MM-DD');\n\t}\n\t\n\tfunction dateToWeekKey(date) {\n\t    return moment(date).format('GGGG-[W]WW');\n\t}\n\t\n\tfunction dateToMonthKey(date) {\n\t    return moment(date).format('MMM YYYY');\n\t}\n\t\n\tfunction dateToYearKey(date) {\n\t    return moment(date).format('YYYY');\n\t}\n\t\n\tfunction getDataGroupedPerPeriod(downloadData, dateRange, dateToPeriod, nthVisibleAxisLabel) {\n\t\n\t    var groupedData = {};\n\t\n\t    var xAxisLabels = null;\n\t    var coveredPeriods = {};\n\t\n\t    $.each(downloadData, function (packageName, data) {\n\t        var values = [];\n\t\n\t        var periodSum = 0;\n\t        var lastPeriod = null;\n\t\n\t        for (var i = 0; i < dateRange.length; i++) {\n\t\n\t            var key = dateToDayKey(dateRange[i]);\n\t            var currentPeriod = dateToPeriod(dateRange[i]);\n\t\n\t            if (coveredPeriods !== null) {\n\t                coveredPeriods[currentPeriod] = true;\n\t            }\n\t\n\t            if (currentPeriod !== lastPeriod && lastPeriod !== null) {\n\t                values.push({name: lastPeriod, y: periodSum});\n\t                periodSum = 0;\n\t            }\n\t\n\t            periodSum += data[key] || 0;\n\t\n\t            lastPeriod = currentPeriod;\n\t\n\t            if (i === dateRange.length - 1) {\n\t                // push data for last (incomplete) period\n\t                values.push({name: currentPeriod, y: periodSum});\n\t            }\n\t        }\n\t\n\t        if (coveredPeriods !== null) {\n\t            xAxisLabels = Object.keys(coveredPeriods);\n\t        }\n\t\n\t        coveredPeriods = null;\n\t\n\t        groupedData[packageName] = values;\n\t    });\n\t\n\t    for (var i = 0; i < xAxisLabels.length; i++) {\n\t        if (i % nthVisibleAxisLabel != 0) {\n\t            xAxisLabels[i] = ' ';\n\t        }\n\t    }\n\t\n\t    return {\n\t        data: groupedData,\n\t        xAxisLabels: xAxisLabels\n\t    };\n\t}\n\t\n\tfunction getPackageList(json) {\n\t    var result = [];\n\t    var len = json.rows.length;\n\t    for (var i = 0; i < len; i++) {\n\t        result.push(json.rows[i].key[1]);\n\t    }\n\t    return result;\n\t}\n\t\n\tfunction requestData(url) {\n\t    return $.ajax({\n\t        url: url,\n\t        dataType: 'json'\n\t    });\n\t}\n\t\n\tfunction getDownloadsUrl(pkg, fromDate, toDate) {\n\t    return '/downloads/range/' + dateToDayKey(fromDate) + ':' + dateToDayKey(toDate) + '/' + encodeURIComponent(pkg);\n\t}\n\t\n\tfunction sumUpDownloadCounts(downloadData) {\n\t    var summedUpDownloads = {};\n\t    $.each(downloadData, function (packageName, packageDownloads) {\n\t        $.each(packageDownloads, function (date, packageDownloadsForDate) {\n\t            if (typeof summedUpDownloads[date] != 'undefined') {\n\t                summedUpDownloads[date] = summedUpDownloads[date] + packageDownloadsForDate;\n\t            } else {\n\t                summedUpDownloads[date] = packageDownloadsForDate;\n\t            }\n\t        })\n\t    });\n\t\n\t    return {total: summedUpDownloads};\n\t}\n\t\n\tfunction drawCharts(downloadData, fromDate, toDate) {\n\t\n\t    var dateRange = getDateRange(fromDate, toDate);\n\t\n\t    var dailyDownloadData = getDailyDownloadData(downloadData, dateRange);\n\t    showChart('days', 'Downloads per day', dailyDownloadData, 'datetime', 'Date');\n\t\n\t    var weeklyDownloadData = getDataGroupedPerPeriod(downloadData, dateRange, dateToWeekKey, 4);\n\t    showChart('weeks', 'Downloads per week', weeklyDownloadData.data, 'categories', 'Week',\n\t        weeklyDownloadData.xAxisLabels);\n\t\n\t    var monthlyDownloadData = getDataGroupedPerPeriod(downloadData, dateRange, dateToMonthKey, 1);\n\t    showChart('months', 'Downloads per month', monthlyDownloadData.data, 'categories', 'Month',\n\t        monthlyDownloadData.xAxisLabels);\n\t\n\t    var annualDownloadData = getDataGroupedPerPeriod(downloadData, dateRange, dateToYearKey, 1);\n\t    showChart('years', 'Downloads per year', annualDownloadData.data, 'categories', 'Year',\n\t        annualDownloadData.xAxisLabels);\n\t\n\t}\n\t\n\tfunction showTotalDownloads(sanitizedData, fromDate, toDate, showSum) {\n\t\n\t    var sum = 0;\n\t    var $table = $('<table class=\"alternating\"><tr><td>package</td><td>downloads</td></tr></table>');\n\t\n\t    var totals = $.map(sanitizedData, function (downloads, packageName) {\n\t        var totalDownloads = calculateTotalDownloads(downloads);\n\t\n\t        if (showSum) {\n\t            sum += totalDownloads;\n\t        }\n\t\n\t        return {packageName: packageName, downloads: totalDownloads};\n\t    });\n\t\n\t    var sortedTotals = totals.sort(function (a, b) {\n\t        return b.downloads - a.downloads;\n\t    });\n\t\n\t    $.each(sortedTotals, function (index, total) {\n\t\n\t        var packageHtml;\n\t\n\t        if (showSum) {\n\t            packageHtml = '<a href=\"charts.html?package=' + total.packageName\n\t                + '&from=' + dateToDayKey(fromDate) + '&to=' + dateToDayKey(toDate) + '\">'\n\t                + total.packageName + '</a>';\n\t        } else {\n\t            packageHtml = total.packageName;\n\t        }\n\t\n\t        $table.append('<tr><td>' + packageHtml + '</td><td>' + formatNumber(total.downloads) + '</td></tr>');\n\t    });\n\t\n\t    if (showSum) {\n\t        $table.append('<tr><td><strong>Î£</strong></td><td><strong>' + formatNumber(sum) + '</strong></td></tr>');\n\t    }\n\t\n\t    $('#pkgs')\n\t        .after($table)\n\t        .after('<p>Total number of downloads between <em>'\n\t            + dateToDayKey(fromDate) + '</em> and <em>'\n\t            + dateToDayKey(toDate) + '</em>:');\n\t}\n\t\n\tfunction showPackageStats(packageNames, fromDate, toDate) {\n\t\n\t    var joinedPackageNames = packageNames.join(', ');\n\t\n\t    $('h2').append(' for package'\n\t        + (packageNames.length > 1 ? 's' : '')\n\t        + ' <em>' + joinedPackageNames + '</em>');\n\t    $nameType.val('package');\n\t    $('#name')\n\t        .attr('name', 'package')\n\t        .val(joinedPackageNames);\n\t\n\t    if (packageNames.length > 5) {\n\t        window.alert('You cannot compare more than 5 packages at once.');\n\t        return;\n\t    }\n\t\n\t    var $npmStat = $('#npm-stat');\n\t\n\t    $npmStat.after('<p id=\"loading\"><img src=\"loading.gif\" /></p>');\n\t\n\t    if (packageNames.length == 1) {\n\t        $npmStat.after('<p><a href=\"https://npmjs.org/package/' + packageNames + '\">View package on npm</a></p>');\n\t    }\n\t\n\t    var dataRequests = {};\n\t    var requestArray = [];\n\t    $.each(packageNames, function (index, packageName) {\n\t\n\t        var url = getDownloadsUrl(packageName, fromDate, toDate);\n\t\n\t        var dataRequest = requestData(url);\n\t\n\t        dataRequests[packageName] = dataRequest;\n\t        requestArray.push(dataRequest);\n\t\n\t    });\n\t\n\t    $.when.apply(this, requestArray).then(function () {\n\t\n\t        var requestResults = {};\n\t        if (packageNames.length == 1) {\n\t            requestResults[packageNames[0]] = arguments[0];\n\t        } else {\n\t            $.each(arguments, function (index, response) {\n\t                requestResults[packageNames[index]] = response[0];\n\t            });\n\t        }\n\t\n\t        var sanitizedData = {};\n\t        $.each(requestResults, function (packageName, result) {\n\t            sanitizedData[packageName] = sanitizeData(result);\n\t        });\n\t\n\t        $('#loading').remove();\n\t\n\t        showTotalDownloads(sanitizedData, fromDate, toDate, false);\n\t\n\t        drawCharts(sanitizedData, fromDate, toDate);\n\t\n\t    });\n\t}\n\t\n\tfunction showAuthorStats(authorName, fromDate, toDate) {\n\t    $('h2').html('Downloads for author <em>' + authorName + '</em>');\n\t    $nameType.val('author');\n\t    $('#name')\n\t        .attr('name', 'author')\n\t        .val(authorName);\n\t    $('#npm-stat').after('<p id=\"loading\"></p><p><a href=\"https://npmjs.org/~'\n\t        + authorName + '\">View author on npm</a></p>');\n\t\n\t    $('#loading').html('<img src=\"loading.gif\" />');\n\t\n\t    getPackagesForAuthor(authorName).then(function (response) {\n\t        var packageNames = getPackageList(response);\n\t\n\t        var dataRequests = {};\n\t        var requestArray = [];\n\t        $.each(packageNames, function (index, packageName) {\n\t\n\t            var url = getDownloadsUrl(packageName, fromDate, toDate);\n\t\n\t            var dataRequest = requestData(url);\n\t\n\t            dataRequests[packageName] = dataRequest;\n\t            requestArray.push(dataRequest);\n\t\n\t        });\n\t\n\t        $.when.apply(this, requestArray).then(function () {\n\t\n\t            var requestResults = {};\n\t            if (packageNames.length == 1) {\n\t                requestResults[packageNames[0]] = arguments[0];\n\t            } else {\n\t                $.each(arguments, function (index, response) {\n\t                    requestResults[packageNames[index]] = response[0];\n\t                });\n\t            }\n\t\n\t            var sanitizedData = {};\n\t            $.each(requestResults, function (packageName, result) {\n\t                sanitizedData[packageName] = sanitizeData(result);\n\t            });\n\t\n\t            $('#loading').remove();\n\t\n\t            showTotalDownloads(sanitizedData, fromDate, toDate, true);\n\t\n\t            var summedUpDownloadCounts = sumUpDownloadCounts(sanitizedData);\n\t\n\t            drawCharts(summedUpDownloadCounts, fromDate, toDate);\n\t\n\t        });\n\t\n\t    });\n\t}\n\t\n\tfunction getPackagesForAuthor(authorName) {\n\t    var url = '/-/_view/browseAuthors?group_level=3&start_key=[\"' + authorName + '\"]&end_key=[\"' + authorName + '\",{}]';\n\t    return requestData(url)\n\t}\n\t\n\tfunction initDate(urlParams, type, baseDate) {\n\t    var date;\n\t\n\t    if (urlParams[type]) {\n\t        date = moment(urlParams[type]).startOf('day');\n\t    } else if (baseDate) {\n\t        date = moment(baseDate).startOf('day').subtract(1, 'year');\n\t    } else {\n\t        date = moment().startOf('day');\n\t    }\n\t    if (!date.isValid()) {\n\t        alert('Invalid date format in URL parameter \"' + type + '\"');\n\t        return;\n\t    }\n\t    date = date.toDate();\n\t    $('input[name=\"' + type + '\"]').val(dateToDayKey(date));\n\t\n\t    return date;\n\t}\n\t\n\t$(function () {\n\t    $('#nameType').replaceWith($nameType);\n\t    $('#from, #to').attr('title', 'If the date fields are omitted, you will see the data of the past year.');\n\t\n\t    var urlParams = querystring.decode(window.location.search ? window.location.search.substring(1) : '');\n\t\n\t    var packageNames = urlParams['package'];\n\t    var authorName = $(urlParams['author']).text();\n\t\n\t    if (!packageNames && !authorName) {\n\t        return;\n\t    }\n\t\n\t    var toDate = initDate(urlParams, 'to');\n\t    var fromDate = initDate(urlParams, 'from', toDate);\n\t\n\t    if (packageNames) {\n\t        if (!(packageNames instanceof Array)) {\n\t            packageNames = [packageNames];\n\t        }\n\t\n\t        packageNames = $.map(packageNames, function (packageName) {\n\t            return $(packageName.trim()).text();\n\t        });\n\t\n\t        $('title').html('npm-stat: ' + packageNames.join(', '));\n\t        showPackageStats(packageNames, fromDate, toDate);\n\t    } else if (authorName) {\n\t        $('title').html('npm-stat: ' + authorName);\n\t        showAuthorStats(authorName, fromDate, toDate);\n\t    }\n\t});\n\t\n\twindow.submitForm = function submitForm() {\n\t\n\t    var formData = {};\n\t\n\t    if ($nameType.val() == 'package') {\n\t        var packageNames = $('input[name=package]').val().split(',');\n\t\n\t        if (packageNames.length >= 1 && packageNames[0].trim() !== '') {\n\t            formData['package'] = $.map(packageNames, function (packageName) {\n\t                return packageName.trim();\n\t            });\n\t        } else {\n\t            formData['package'] = ['clone'];\n\t        }\n\t    } else if ($nameType.val() == 'author') {\n\t        var authorName = $('input[name=author]').val();\n\t        formData['author'] = authorName || 'pvorb';\n\t    }\n\t\n\t    formData['from'] = $('#from').val();\n\t    formData['to'] = $('#to').val();\n\t\n\t    for (var key in formData) {\n\t        if (!formData[key]) {\n\t            delete formData[key];\n\t        }\n\t    }\n\t\n\t    window.location = '/charts.html?' + querystring.encode(formData);\n\t\n\t    return false;\n\t};\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\t'use strict';\n\t\n\t// If obj.hasOwnProperty has been overridden, then calling\n\t// obj.hasOwnProperty(prop) will break.\n\t// See: https://github.com/joyent/node/issues/1707\n\tfunction hasOwnProperty(obj, prop) {\n\t  return Object.prototype.hasOwnProperty.call(obj, prop);\n\t}\n\t\n\tmodule.exports = function(qs, sep, eq, options) {\n\t  sep = sep || '&';\n\t  eq = eq || '=';\n\t  var obj = {};\n\t\n\t  if (typeof qs !== 'string' || qs.length === 0) {\n\t    return obj;\n\t  }\n\t\n\t  var regexp = /\\+/g;\n\t  qs = qs.split(sep);\n\t\n\t  var maxKeys = 1000;\n\t  if (options && typeof options.maxKeys === 'number') {\n\t    maxKeys = options.maxKeys;\n\t  }\n\t\n\t  var len = qs.length;\n\t  // maxKeys <= 0 means that we should not limit keys count\n\t  if (maxKeys > 0 && len > maxKeys) {\n\t    len = maxKeys;\n\t  }\n\t\n\t  for (var i = 0; i < len; ++i) {\n\t    var x = qs[i].replace(regexp, '%20'),\n\t        idx = x.indexOf(eq),\n\t        kstr, vstr, k, v;\n\t\n\t    if (idx >= 0) {\n\t      kstr = x.substr(0, idx);\n\t      vstr = x.substr(idx + 1);\n\t    } else {\n\t      kstr = x;\n\t      vstr = '';\n\t    }\n\t\n\t    k = decodeURIComponent(kstr);\n\t    v = decodeURIComponent(vstr);\n\t\n\t    if (!hasOwnProperty(obj, k)) {\n\t      obj[k] = v;\n\t    } else if (isArray(obj[k])) {\n\t      obj[k].push(v);\n\t    } else {\n\t      obj[k] = [obj[k], v];\n\t    }\n\t  }\n\t\n\t  return obj;\n\t};\n\t\n\tvar isArray = Array.isArray || function (xs) {\n\t  return Object.prototype.toString.call(xs) === '[object Array]';\n\t};\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t// Copyright Joyent, Inc. and other Node contributors.\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a\n\t// copy of this software and associated documentation files (the\n\t// \"Software\"), to deal in the Software without restriction, including\n\t// without limitation the rights to use, copy, modify, merge, publish,\n\t// distribute, sublicense, and/or sell copies of the Software, and to permit\n\t// persons to whom the Software is furnished to do so, subject to the\n\t// following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included\n\t// in all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n\t// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\t// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n\t// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n\t// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n\t// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n\t// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\t'use strict';\n\t\n\tvar stringifyPrimitive = function(v) {\n\t  switch (typeof v) {\n\t    case 'string':\n\t      return v;\n\t\n\t    case 'boolean':\n\t      return v ? 'true' : 'false';\n\t\n\t    case 'number':\n\t      return isFinite(v) ? v : '';\n\t\n\t    default:\n\t      return '';\n\t  }\n\t};\n\t\n\tmodule.exports = function(obj, sep, eq, name) {\n\t  sep = sep || '&';\n\t  eq = eq || '=';\n\t  if (obj === null) {\n\t    obj = undefined;\n\t  }\n\t\n\t  if (typeof obj === 'object') {\n\t    return map(objectKeys(obj), function(k) {\n\t      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n\t      if (isArray(obj[k])) {\n\t        return map(obj[k], function(v) {\n\t          return ks + encodeURIComponent(stringifyPrimitive(v));\n\t        }).join(sep);\n\t      } else {\n\t        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n\t      }\n\t    }).join(sep);\n\t\n\t  }\n\t\n\t  if (!name) return '';\n\t  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n\t         encodeURIComponent(stringifyPrimitive(obj));\n\t};\n\t\n\tvar isArray = Array.isArray || function (xs) {\n\t  return Object.prototype.toString.call(xs) === '[object Array]';\n\t};\n\t\n\tfunction map (xs, f) {\n\t  if (xs.map) return xs.map(f);\n\t  var res = [];\n\t  for (var i = 0; i < xs.length; i++) {\n\t    res.push(f(xs[i], i));\n\t  }\n\t  return res;\n\t}\n\t\n\tvar objectKeys = Object.keys || function (obj) {\n\t  var res = [];\n\t  for (var key in obj) {\n\t    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n\t  }\n\t  return res;\n\t};\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.decode = exports.parse = __webpack_require__(1);\n\texports.encode = exports.stringify = __webpack_require__(2);\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t// Object.keys polyfill\n\t// from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\n\tif (!Object.keys) {\n\t    Object.keys = (function () {\n\t        'use strict';\n\t        var hasOwnProperty = Object.prototype.hasOwnProperty,\n\t            hasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),\n\t            dontEnums = [\n\t                'toString',\n\t                'toLocaleString',\n\t                'valueOf',\n\t                'hasOwnProperty',\n\t                'isPrototypeOf',\n\t                'propertyIsEnumerable',\n\t                'constructor'\n\t            ],\n\t            dontEnumsLength = dontEnums.length;\n\t\n\t        return function (obj) {\n\t            if (typeof obj !== 'object' && (typeof obj !== 'function' || obj === null)) {\n\t                throw new TypeError('Object.keys called on non-object');\n\t            }\n\t\n\t            var result = [], prop, i;\n\t\n\t            for (prop in obj) {\n\t                if (hasOwnProperty.call(obj, prop)) {\n\t                    result.push(prop);\n\t                }\n\t            }\n\t\n\t            if (hasDontEnumBug) {\n\t                for (i = 0; i < dontEnumsLength; i++) {\n\t                    if (hasOwnProperty.call(obj, dontEnums[i])) {\n\t                        result.push(dontEnums[i]);\n\t                    }\n\t                }\n\t            }\n\t            return result;\n\t        };\n\t    }());\n\t}\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** charts.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ea9d7d5ffe9a161abd83\n **/","/*!\n * (c) 2012-2016 Paul Vorbach.\n *\n * MIT License (https://vorba.ch/license/mit.html)\n */\n\nvar querystring = require('querystring');\n\nrequire('./object-keys-polyfill.js');\n\nvar $nameType = $('<select id=\"nameType\">\\n'\n    + '    <option value=\"package\" selected>Package</option>\\n'\n    + '    <option value=\"author\">Author</option>\\n'\n    + '</select>');\n\n$nameType.change(function () {\n    if ($nameType.val() == 'package') {\n        $('#name').attr('name', 'package').attr('placeholder', 'package name(s) (comma separated)');\n    } else if ($nameType.val() == 'author') {\n        $('#name').attr('name', 'author').attr('placeholder', 'author name');\n    }\n});\n\nfunction getDateRange(startDate, stopDate) {\n    var dateArray = [];\n    var current = moment(startDate).startOf('day');\n    var stop = moment(stopDate).startOf('day');\n    while (current.isSameOrBefore(stop)) {\n        dateArray.push(current.toDate());\n        current = current.add(1, 'days');\n    }\n    return dateArray;\n}\n\nfunction showChart(id, title, data, xAxisType, xAxisTitle, cats) {\n\n    var series = $.map(data, function (values, packageName) {\n        return {\n            name: packageName,\n            data: values,\n            type: 'spline'\n        };\n    });\n\n    new Highcharts.Chart({\n        chart: {\n            renderTo: id,\n            zoomType: 'x'\n        },\n        colors: ['#CC333F', '#00A0B0', '#73AC42', '#EB6841', '#542437'],\n        title: {\n            text: title,\n            style: {\n                color: '#000000'\n            }\n        },\n        subtitle: {\n            text: typeof document.ontouchstart == 'undefined' ?\n                'Click and drag in the plot to zoom in' :\n                'Drag your finger over the plot to zoom in',\n            style: {\n                color: '#000000'\n            }\n        },\n        exporting: {\n            enableImages: true\n        },\n        credits: {\n            enabled: false\n        },\n        xAxis: (xAxisType == 'datetime' ? {\n            type: xAxisType,\n            maxZoom: 14 * 24 * 60 * 60 * 1000,\n            lineColor: '#000000',\n            title: {\n                text: xAxisTitle,\n                style: {\n                    color: '#000000'\n                }\n            }\n        } : {\n            type: xAxisType,\n            lineColor: '#000000',\n            categories: cats,\n            labels: {\n                rotation: -20\n            },\n            title: {\n                text: xAxisTitle,\n                style: {\n                    color: '#000000'\n                }\n            }\n        }),\n        yAxis: {\n            min: 0,\n            startOnTick: false,\n            showFirstLabel: false,\n            title: {\n                text: 'Downloads',\n                style: {\n                    color: '#000000'\n                }\n            }\n        },\n        tooltip: {\n            shared: true\n        },\n        legend: {\n            enabled: series.length > 1\n        },\n        plotOptions: {\n            spline: {\n                marker: {\n                    radius: 1.5\n                },\n                lineWidth: 1,\n                states: {\n                    hover: {\n                        lineWidth: 1\n                    }\n                },\n                threshold: null\n            }\n        },\n        series: series\n    });\n}\n\nfunction calculateTotalDownloads(downloadsPerDay) {\n    var totalDownloads = 0;\n    $.each(downloadsPerDay, function (date, downloadsOfDay) {\n        totalDownloads += downloadsOfDay;\n    });\n    return totalDownloads;\n}\n\nfunction formatNumber(number) {\n    return number.toString()\n        .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\n\nfunction sanitizeData(data) {\n    var result = {};\n    var downloadData = data.downloads;\n\n    var date = null;\n    if (downloadData) {\n        for (var i = 0; i < downloadData.length; i++) {\n            date = downloadData[i].day;\n            result[date] = downloadData[i].downloads;\n        }\n    }\n\n    return result;\n}\n\nfunction getDailyDownloadData(downloadData, dateRange) {\n\n    var dailyData = {};\n\n    $.each(downloadData, function (packageName, data) {\n        var values = [];\n        for (var i = 0; i < dateRange.length; i++) {\n            var key = dateToDayKey(dateRange[i]);\n            var dateAsMidnight = moment(dateRange[i]).startOf('day').valueOf();\n            values.push([dateAsMidnight, data[key] || 0]);\n        }\n        dailyData[packageName] = values;\n    });\n\n    return dailyData;\n}\n\nfunction dateToDayKey(date) {\n    return moment(date).format('YYYY-MM-DD');\n}\n\nfunction dateToWeekKey(date) {\n    return moment(date).format('GGGG-[W]WW');\n}\n\nfunction dateToMonthKey(date) {\n    return moment(date).format('MMM YYYY');\n}\n\nfunction dateToYearKey(date) {\n    return moment(date).format('YYYY');\n}\n\nfunction getDataGroupedPerPeriod(downloadData, dateRange, dateToPeriod, nthVisibleAxisLabel) {\n\n    var groupedData = {};\n\n    var xAxisLabels = null;\n    var coveredPeriods = {};\n\n    $.each(downloadData, function (packageName, data) {\n        var values = [];\n\n        var periodSum = 0;\n        var lastPeriod = null;\n\n        for (var i = 0; i < dateRange.length; i++) {\n\n            var key = dateToDayKey(dateRange[i]);\n            var currentPeriod = dateToPeriod(dateRange[i]);\n\n            if (coveredPeriods !== null) {\n                coveredPeriods[currentPeriod] = true;\n            }\n\n            if (currentPeriod !== lastPeriod && lastPeriod !== null) {\n                values.push({name: lastPeriod, y: periodSum});\n                periodSum = 0;\n            }\n\n            periodSum += data[key] || 0;\n\n            lastPeriod = currentPeriod;\n\n            if (i === dateRange.length - 1) {\n                // push data for last (incomplete) period\n                values.push({name: currentPeriod, y: periodSum});\n            }\n        }\n\n        if (coveredPeriods !== null) {\n            xAxisLabels = Object.keys(coveredPeriods);\n        }\n\n        coveredPeriods = null;\n\n        groupedData[packageName] = values;\n    });\n\n    for (var i = 0; i < xAxisLabels.length; i++) {\n        if (i % nthVisibleAxisLabel != 0) {\n            xAxisLabels[i] = ' ';\n        }\n    }\n\n    return {\n        data: groupedData,\n        xAxisLabels: xAxisLabels\n    };\n}\n\nfunction getPackageList(json) {\n    var result = [];\n    var len = json.rows.length;\n    for (var i = 0; i < len; i++) {\n        result.push(json.rows[i].key[1]);\n    }\n    return result;\n}\n\nfunction requestData(url) {\n    return $.ajax({\n        url: url,\n        dataType: 'json'\n    });\n}\n\nfunction getDownloadsUrl(pkg, fromDate, toDate) {\n    return '/downloads/range/' + dateToDayKey(fromDate) + ':' + dateToDayKey(toDate) + '/' + encodeURIComponent(pkg);\n}\n\nfunction sumUpDownloadCounts(downloadData) {\n    var summedUpDownloads = {};\n    $.each(downloadData, function (packageName, packageDownloads) {\n        $.each(packageDownloads, function (date, packageDownloadsForDate) {\n            if (typeof summedUpDownloads[date] != 'undefined') {\n                summedUpDownloads[date] = summedUpDownloads[date] + packageDownloadsForDate;\n            } else {\n                summedUpDownloads[date] = packageDownloadsForDate;\n            }\n        })\n    });\n\n    return {total: summedUpDownloads};\n}\n\nfunction drawCharts(downloadData, fromDate, toDate) {\n\n    var dateRange = getDateRange(fromDate, toDate);\n\n    var dailyDownloadData = getDailyDownloadData(downloadData, dateRange);\n    showChart('days', 'Downloads per day', dailyDownloadData, 'datetime', 'Date');\n\n    var weeklyDownloadData = getDataGroupedPerPeriod(downloadData, dateRange, dateToWeekKey, 4);\n    showChart('weeks', 'Downloads per week', weeklyDownloadData.data, 'categories', 'Week',\n        weeklyDownloadData.xAxisLabels);\n\n    var monthlyDownloadData = getDataGroupedPerPeriod(downloadData, dateRange, dateToMonthKey, 1);\n    showChart('months', 'Downloads per month', monthlyDownloadData.data, 'categories', 'Month',\n        monthlyDownloadData.xAxisLabels);\n\n    var annualDownloadData = getDataGroupedPerPeriod(downloadData, dateRange, dateToYearKey, 1);\n    showChart('years', 'Downloads per year', annualDownloadData.data, 'categories', 'Year',\n        annualDownloadData.xAxisLabels);\n\n}\n\nfunction showTotalDownloads(sanitizedData, fromDate, toDate, showSum) {\n\n    var sum = 0;\n    var $table = $('<table class=\"alternating\"><tr><td>package</td><td>downloads</td></tr></table>');\n\n    var totals = $.map(sanitizedData, function (downloads, packageName) {\n        var totalDownloads = calculateTotalDownloads(downloads);\n\n        if (showSum) {\n            sum += totalDownloads;\n        }\n\n        return {packageName: packageName, downloads: totalDownloads};\n    });\n\n    var sortedTotals = totals.sort(function (a, b) {\n        return b.downloads - a.downloads;\n    });\n\n    $.each(sortedTotals, function (index, total) {\n\n        var packageHtml;\n\n        if (showSum) {\n            packageHtml = '<a href=\"charts.html?package=' + total.packageName\n                + '&from=' + dateToDayKey(fromDate) + '&to=' + dateToDayKey(toDate) + '\">'\n                + total.packageName + '</a>';\n        } else {\n            packageHtml = total.packageName;\n        }\n\n        $table.append('<tr><td>' + packageHtml + '</td><td>' + formatNumber(total.downloads) + '</td></tr>');\n    });\n\n    if (showSum) {\n        $table.append('<tr><td><strong>Î£</strong></td><td><strong>' + formatNumber(sum) + '</strong></td></tr>');\n    }\n\n    $('#pkgs')\n        .after($table)\n        .after('<p>Total number of downloads between <em>'\n            + dateToDayKey(fromDate) + '</em> and <em>'\n            + dateToDayKey(toDate) + '</em>:');\n}\n\nfunction showPackageStats(packageNames, fromDate, toDate) {\n\n    var joinedPackageNames = packageNames.join(', ');\n\n    $('h2').append(' for package'\n        + (packageNames.length > 1 ? 's' : '')\n        + ' <em>' + joinedPackageNames + '</em>');\n    $nameType.val('package');\n    $('#name')\n        .attr('name', 'package')\n        .val(joinedPackageNames);\n\n    if (packageNames.length > 5) {\n        window.alert('You cannot compare more than 5 packages at once.');\n        return;\n    }\n\n    var $npmStat = $('#npm-stat');\n\n    $npmStat.after('<p id=\"loading\"><img src=\"loading.gif\" /></p>');\n\n    if (packageNames.length == 1) {\n        $npmStat.after('<p><a href=\"https://npmjs.org/package/' + packageNames + '\">View package on npm</a></p>');\n    }\n\n    var dataRequests = {};\n    var requestArray = [];\n    $.each(packageNames, function (index, packageName) {\n\n        var url = getDownloadsUrl(packageName, fromDate, toDate);\n\n        var dataRequest = requestData(url);\n\n        dataRequests[packageName] = dataRequest;\n        requestArray.push(dataRequest);\n\n    });\n\n    $.when.apply(this, requestArray).then(function () {\n\n        var requestResults = {};\n        if (packageNames.length == 1) {\n            requestResults[packageNames[0]] = arguments[0];\n        } else {\n            $.each(arguments, function (index, response) {\n                requestResults[packageNames[index]] = response[0];\n            });\n        }\n\n        var sanitizedData = {};\n        $.each(requestResults, function (packageName, result) {\n            sanitizedData[packageName] = sanitizeData(result);\n        });\n\n        $('#loading').remove();\n\n        showTotalDownloads(sanitizedData, fromDate, toDate, false);\n\n        drawCharts(sanitizedData, fromDate, toDate);\n\n    });\n}\n\nfunction showAuthorStats(authorName, fromDate, toDate) {\n    $('h2').html('Downloads for author <em>' + authorName + '</em>');\n    $nameType.val('author');\n    $('#name')\n        .attr('name', 'author')\n        .val(authorName);\n    $('#npm-stat').after('<p id=\"loading\"></p><p><a href=\"https://npmjs.org/~'\n        + authorName + '\">View author on npm</a></p>');\n\n    $('#loading').html('<img src=\"loading.gif\" />');\n\n    getPackagesForAuthor(authorName).then(function (response) {\n        var packageNames = getPackageList(response);\n\n        var dataRequests = {};\n        var requestArray = [];\n        $.each(packageNames, function (index, packageName) {\n\n            var url = getDownloadsUrl(packageName, fromDate, toDate);\n\n            var dataRequest = requestData(url);\n\n            dataRequests[packageName] = dataRequest;\n            requestArray.push(dataRequest);\n\n        });\n\n        $.when.apply(this, requestArray).then(function () {\n\n            var requestResults = {};\n            if (packageNames.length == 1) {\n                requestResults[packageNames[0]] = arguments[0];\n            } else {\n                $.each(arguments, function (index, response) {\n                    requestResults[packageNames[index]] = response[0];\n                });\n            }\n\n            var sanitizedData = {};\n            $.each(requestResults, function (packageName, result) {\n                sanitizedData[packageName] = sanitizeData(result);\n            });\n\n            $('#loading').remove();\n\n            showTotalDownloads(sanitizedData, fromDate, toDate, true);\n\n            var summedUpDownloadCounts = sumUpDownloadCounts(sanitizedData);\n\n            drawCharts(summedUpDownloadCounts, fromDate, toDate);\n\n        });\n\n    });\n}\n\nfunction getPackagesForAuthor(authorName) {\n    var url = '/-/_view/browseAuthors?group_level=3&start_key=[\"' + authorName + '\"]&end_key=[\"' + authorName + '\",{}]';\n    return requestData(url)\n}\n\nfunction initDate(urlParams, type, baseDate) {\n    var date;\n\n    if (urlParams[type]) {\n        date = moment(urlParams[type]).startOf('day');\n    } else if (baseDate) {\n        date = moment(baseDate).startOf('day').subtract(1, 'year');\n    } else {\n        date = moment().startOf('day');\n    }\n    if (!date.isValid()) {\n        alert('Invalid date format in URL parameter \"' + type + '\"');\n        return;\n    }\n    date = date.toDate();\n    $('input[name=\"' + type + '\"]').val(dateToDayKey(date));\n\n    return date;\n}\n\n$(function () {\n    $('#nameType').replaceWith($nameType);\n    $('#from, #to').attr('title', 'If the date fields are omitted, you will see the data of the past year.');\n\n    var urlParams = querystring.decode(window.location.search ? window.location.search.substring(1) : '');\n\n    var packageNames = urlParams['package'];\n    var authorName = $(urlParams['author']).text();\n\n    if (!packageNames && !authorName) {\n        return;\n    }\n\n    var toDate = initDate(urlParams, 'to');\n    var fromDate = initDate(urlParams, 'from', toDate);\n\n    if (packageNames) {\n        if (!(packageNames instanceof Array)) {\n            packageNames = [packageNames];\n        }\n\n        packageNames = $.map(packageNames, function (packageName) {\n            return $(packageName.trim()).text();\n        });\n\n        $('title').html('npm-stat: ' + packageNames.join(', '));\n        showPackageStats(packageNames, fromDate, toDate);\n    } else if (authorName) {\n        $('title').html('npm-stat: ' + authorName);\n        showAuthorStats(authorName, fromDate, toDate);\n    }\n});\n\nwindow.submitForm = function submitForm() {\n\n    var formData = {};\n\n    if ($nameType.val() == 'package') {\n        var packageNames = $('input[name=package]').val().split(',');\n\n        if (packageNames.length >= 1 && packageNames[0].trim() !== '') {\n            formData['package'] = $.map(packageNames, function (packageName) {\n                return packageName.trim();\n            });\n        } else {\n            formData['package'] = ['clone'];\n        }\n    } else if ($nameType.val() == 'author') {\n        var authorName = $('input[name=author]').val();\n        formData['author'] = authorName || 'pvorb';\n    }\n\n    formData['from'] = $('#from').val();\n    formData['to'] = $('#to').val();\n\n    for (var key in formData) {\n        if (!formData[key]) {\n            delete formData[key];\n        }\n    }\n\n    window.location = '/charts.html?' + querystring.encode(formData);\n\n    return false;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/charts.js\n ** module id = 0\n ** module chunks = 0\n **/","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/querystring-es3/decode.js\n ** module id = 1\n ** module chunks = 0\n **/","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/querystring-es3/encode.js\n ** module id = 2\n ** module chunks = 0\n **/","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/querystring-es3/index.js\n ** module id = 3\n ** module chunks = 0\n **/","// Object.keys polyfill\n// from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\nif (!Object.keys) {\n    Object.keys = (function () {\n        'use strict';\n        var hasOwnProperty = Object.prototype.hasOwnProperty,\n            hasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),\n            dontEnums = [\n                'toString',\n                'toLocaleString',\n                'valueOf',\n                'hasOwnProperty',\n                'isPrototypeOf',\n                'propertyIsEnumerable',\n                'constructor'\n            ],\n            dontEnumsLength = dontEnums.length;\n\n        return function (obj) {\n            if (typeof obj !== 'object' && (typeof obj !== 'function' || obj === null)) {\n                throw new TypeError('Object.keys called on non-object');\n            }\n\n            var result = [], prop, i;\n\n            for (prop in obj) {\n                if (hasOwnProperty.call(obj, prop)) {\n                    result.push(prop);\n                }\n            }\n\n            if (hasDontEnumBug) {\n                for (i = 0; i < dontEnumsLength; i++) {\n                    if (hasOwnProperty.call(obj, dontEnums[i])) {\n                        result.push(dontEnums[i]);\n                    }\n                }\n            }\n            return result;\n        };\n    }());\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/object-keys-polyfill.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}